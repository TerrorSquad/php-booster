---
title: PHP Insights
navigation: true
layout: default
---

# PHP Insights

## Introduction

PHP Insights is a powerful static analysis tool that provides advanced code quality metrics and architectural analysis for your PHP projects. It goes beyond traditional static analysis by offering a comprehensive view of your code's quality, architecture, complexity, and style.

Unlike traditional static analyzers that focus primarily on bug detection, PHP Insights provides a holistic view of your codebase with visual quality scores and actionable recommendations for improvement.

## Features

PHP Insights analyzes your code across four key dimensions:

* **Code Quality**: Identifies code smells, complexity issues, and maintainability problems
* **Architecture**: Evaluates your code structure and design patterns
* **Complexity**: Measures cyclomatic complexity and cognitive complexity
* **Style**: Checks code formatting and consistency (PSR-12 compliant)

### Key Benefits

* Visual quality metrics with color-coded feedback
* Architectural analysis to identify structural issues
* Customizable quality standards and rules
* Support for multiple PHP frameworks (Laravel, Symfony, etc.)
* IDE integration for real-time feedback

## Usage

Use the following command, which is also defined as a Composer script:

```bash
composer phpinsights
```

The command will analyze your codebase and display:
* Overall quality score
* Code quality metrics
* Architecture score
* Complexity metrics
* Style compliance

### DDEV Users

If you're using DDEV, run the command within your DDEV environment:

```bash
ddev composer phpinsights
```

### Interactive Mode

For a more detailed interactive analysis:

```bash
vendor/bin/phpinsights analyse --ansi
```

Or with DDEV:

```bash
ddev exec vendor/bin/phpinsights analyse --ansi
```

### Verbose Output

To see detailed explanations of all issues:

```bash
vendor/bin/phpinsights analyse -v
```

## Configuration

The `phpinsights.php` file in your project root configures PHP Insights. You can customize it to match your project's specific needs and coding standards.

### Key Configuration Options

* **preset**: Choose a framework preset (`default`, `laravel`, `symfony`, `magento2`, `drupal`, `wordpress`)
* **exclude**: Directories and files to exclude from analysis
* **add**: Custom insights or metrics to include
* **remove**: Specific insights or metrics to disable
* **requirements**: Set minimum quality thresholds for each category
* **config**: Fine-tune specific insight configurations

### Example Customization

```php
return [
    'preset' => 'symfony',
    'exclude' => [
        'tests',
        'vendor',
        'migrations',
    ],
    'requirements' => [
        'min-quality' => 90,
        'min-complexity' => 85,
        'min-architecture' => 85,
        'min-style' => 95,
    ],
];
```

### Preset Selection

Choose the preset that best matches your project:

* **default**: General PHP projects
* **laravel**: Laravel applications
* **symfony**: Symfony projects
* **magento2**: Magento 2 stores
* **drupal**: Drupal modules and themes
* **wordpress**: WordPress plugins and themes

## IDE Integration

### VS Code

Install the PHP Insights extension from the VS Code marketplace for real-time code quality feedback.

### PhpStorm

Configure PHP Insights as an external tool:
1. Go to Settings â†’ Tools â†’ External Tools
2. Add a new tool with the command: `vendor/bin/phpinsights`
3. Set working directory to: `$ProjectFileDir$`

## Continuous Integration

### GitHub Actions

Add PHP Insights to your CI pipeline to ensure code quality standards:

```yaml
- name: PHP Insights
  run: composer phpinsights
```

## Understanding the Output

PHP Insights provides scores in four categories:

* **Code (min 80%)**: Overall code quality, including complexity and maintainability
* **Architecture (min 80%)**: Code structure and design patterns
* **Complexity (min 85%)**: Cyclomatic and cognitive complexity measures
* **Style (min 90%)**: Code formatting and PSR-12 compliance

Each issue is categorized by severity:
* ðŸ”´ **Red**: Critical issues that should be fixed immediately
* ðŸŸ¡ **Yellow**: Warnings that should be addressed
* ðŸŸ¢ **Green**: Informational or minor suggestions

## Best Practices

1. **Run regularly**: Integrate PHP Insights into your development workflow
2. **Set realistic thresholds**: Start with lower quality requirements and gradually increase them
3. **Address critical issues first**: Focus on red issues before tackling yellow ones
4. **Use with other tools**: Combine with PHPStan and Psalm for comprehensive analysis
5. **Customize for your project**: Adjust the configuration to match your team's standards

## Troubleshooting

### Long Analysis Time

If analysis takes too long, try:
* Excluding unnecessary directories (vendor, node_modules, etc.)
* Reducing the number of threads: `'threads' => 1` in config
* Increasing timeout: `'timeout_seconds' => 120` in config

### Memory Issues

If you encounter memory errors:
* Increase PHP memory limit: `php -d memory_limit=512M vendor/bin/phpinsights`
* Exclude large directories from analysis

### False Positives

To disable specific checks:
```php
'remove' => [
    NunoMaduro\PhpInsights\Domain\Insights\ForbiddenNormalClasses::class,
],
```

## Conclusion

PHP Insights is a valuable addition to your code quality toolkit. By providing comprehensive metrics and actionable feedback, it helps you maintain high code standards and improve your codebase over time.

## Additional Resources

::list{type="info"}
* [PHP Insights Documentation](https://phpinsights.com/)
* [GitHub Repository](https://github.com/nunomaduro/phpinsights)
* [PHP Insights Configuration](https://phpinsights.com/get-started.html)
::
