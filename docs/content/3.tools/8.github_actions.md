---
title: GitHub Actions Auto-Fix
description: Automate code style fixes and refactoring with GitHub Actions for PHP projects.
navigation:
  icon: i-simple-icons-github
---

We include GitHub Actions that automatically apply code style fixes (ECS) and refactoring (Rector) on push.

## Features

*   **Automatic Processing**: Runs on push/PR.
*   **Smart Detection**: Only processes changed files.
*   **Auto-commits**: Pushes fixes back to the branch.

## Available Workflow

### `php-auto-fix` Workflow ([php-auto-fix-simple.yml](https://github.com/TerrorSquad/php-booster/blob/main/booster/.github/workflows/php-auto-fix.yml))

```yaml
- name: Run PHP Auto-Fix
  uses: [./.github/actions/php-auto-fix](https://github.com/TerrorSquad/php-booster/tree/main/booster/.github/actions/php-auto-fix)
  with:
    php-version: '8.3'
```

## Configuration

### Environment Variables

::field-group
  ::field{name="php-version" type="string" defaultValue="8.3"}
  PHP version to use
  ::
  ::field{name="skip-rector" type="boolean" defaultValue="false"}
  Skip Rector processing
  ::
  ::field{name="skip-ecs" type="boolean" defaultValue="false"}
  Skip ECS processing
  ::
  ::field{name="commit-message" type="string" defaultValue="style: auto-fix code with Rector and ECS"}
  Custom commit message
  ::
  ::field{name="file-pattern" type="string" defaultValue="*.php"}
  File pattern to match
  ::
::

### Skip Auto-Fix

::tip
To skip auto-fix for specific commits, include `[skip auto-fix]` in your commit message.
::


- Uses `GITHUB_TOKEN` with minimal required permissions
- Only processes files changed in the current commit/PR
- Validates tool availability before execution
- Includes safeguards against infinite loops

## Benefits

:::card-group
::card
---
title: For Developers
icon: i-heroicons-user
---
- ðŸš€ **Faster local development** - No need to run formatters locally
- ðŸ”„ **Consistent code style** across the entire team
- ðŸ“ˆ **Automatic modernization** of legacy PHP patterns
- ðŸ›¡ï¸ **Reduced merge conflicts** from formatting differences
::
::card
---
title: For Teams
icon: i-heroicons-users
---
- ðŸ“Š **Enforced standards** without developer overhead
- ðŸ¤ **Improved code reviews** - Focus on logic, not style
- ðŸ”§ **Automatic maintenance** of code quality
- ðŸ“ **Transparent process** with clear commit history
::
:::

## Integration with Git Hooks

The GitHub Actions work seamlessly with local git hooks:

- **Local hooks** catch issues during development
- **GitHub Actions** provide a safety net for anything that slips through
- **Consistent tooling** ensures the same rules apply everywhere

This creates a comprehensive code quality pipeline from development to production.

## Troubleshooting

### Action Not Running
- Verify PHP files were actually changed
- Check workflow triggers match your branch names
- Ensure [rector.php](https://github.com/TerrorSquad/php-booster/blob/main/booster/rector.php) and [ecs.php](https://github.com/TerrorSquad/php-booster/blob/main/booster/ecs.php) exist

### No Changes Applied
- Confirm Rector and ECS are installed via Composer
- Validate configuration files are correct
- Check action logs for specific error messages

### Permission Issues
- Ensure repository has Actions enabled
- Verify `GITHUB_TOKEN` has write permissions
- For protected branches, consider using a personal access token

## Examples

### Basic Auto-Fix Commit
```
style: auto-fix code with Rector and ECS

Files processed: src/Controller/UserController.php src/Service/EmailService.php

This commit was automatically created by GitHub Actions
to apply code style fixes and modernizations.

[skip ci]
```

### PR Comment
When fixes are applied to a pull request, the action automatically adds a comment:

> ðŸ¤– **Auto-fix Applied**
> 
> Rector and ECS have automatically fixed code style and modernization issues.
> 
> Files processed: `src/Controller/UserController.php`
> 
> Please review the changes before merging.

The GitHub Actions auto-fix feature ensures your codebase maintains consistent quality standards without any manual intervention, making code reviews more focused and productive.
