# Interactive Mode Setup

The PHP Booster integration script includes an **Interactive Mode** that guides you through the setup process with a user-friendly wizard. This mode is especially helpful for first-time users or when you need to customize the integration.

## Starting Interactive Mode

To start the interactive setup wizard, add the `-I` flag when running the integration script:

```bash
curl -sSL https://raw.githubusercontent.com/TerrorSquad/php-booster/main/booster/integrate_booster.sh | bash -s -- -I
```

Or if you've already cloned the repository:

```bash
./booster/integrate_booster.sh -I
```

## The Interactive Wizard

The wizard walks you through three main configuration steps:

### Step 1: Select Code Quality Tools

Choose which PHP code quality tools to install:

- **ECS (EasyCodingStandard)** - Automatic code formatting and style checking
- **Rector** - Automated refactoring and PHP version upgrades
- **PHPStan** - Static analysis for bug detection
- **Psalm** - Additional static analysis with different focus

You can:
- Install all tools (recommended for new integrations)
- Select individual tools based on your needs

::callout{icon="i-heroicons-light-bulb"}
**Tip:** You can always add more tools later by re-running the integration script.
::

### Step 2: Configure Git Workflow

Set up your Git workflow preferences:

#### Ticket ID Configuration

If your team uses ticket tracking systems (JIRA, GitHub Issues, etc.):

1. **Enable ticket IDs**: Choose whether branches must include ticket identifiers
2. **Set ticket prefix**: Define your project's ticket prefix (e.g., `PRJ`, `JIRA`, `ISSUE`)
3. **Commit footer label**: Customize the label used in commit footers (default: `Closes`)

**Example branch names:**
```bash
# With ticket IDs enabled (prefix: PRJ)
feature/PRJ-123-add-user-authentication
fix/PRJ-456-resolve-login-bug

# Without ticket IDs
feature/add-user-authentication
fix/resolve-login-bug
```

**Example commit with automatic footer:**
```bash
git commit -m "feat: add user authentication system"

# Automatically becomes:
# feat: add user authentication system
#
# Closes: PRJ-123
```

### Step 3: IDE Configuration

Choose whether to install IDE settings for:

- **VS Code** (`.vscode/` directory)
- **PhpStorm** (`.phpstorm/` directory)
- **EditorConfig** (`.editorconfig` file)

These provide pre-configured settings that work seamlessly with the installed tools.

## Configuration Summary

Before applying changes, the wizard shows a complete summary of your selections:

```
═══════════════════════════════════════════════════════════════
Configuration Summary
═══════════════════════════════════════════════════════════════

📦 Tools to install:
   ✓ ecs
   ✓ rector
   ✓ phpstan
   ✓ psalm

🔧 Git Workflow:
   ✓ Ticket IDs: Required
   ✓ Ticket Prefix: PRJ
   ✓ Commit Footer: Closes

🎨 IDE Settings: Will be installed
```

You can review and confirm before proceeding.

## Post-Installation Summary

After successful integration, the wizard displays next steps:

1. **Review integrated files** - Check the generated configuration files
2. **Try available commands** - Test the code quality tools
3. **Test Git hooks** - Verify branch naming and commit validation
4. **Commit the integration** - Save your changes to version control

## Command Options

The integration script supports several flags:

| Flag | Description |
|------|-------------|
| `-I` | Run in interactive mode (guided setup) |
| `-v` | Enable verbose logging |
| `-c` | Skip cleanup (preserve temporary files for debugging) |
| `-i` | Show version information and exit |
| `-h` | Show help message and exit |

## Comparing Modes

### Interactive Mode (`-I`)
- ✅ Guided step-by-step setup
- ✅ Customize tool selection
- ✅ Configure Git workflow preferences
- ✅ Helpful for first-time users
- ✅ Post-installation guidance

### Quick Mode (Default)
- ✅ Faster installation
- ✅ Uses sensible defaults
- ✅ Installs all tools
- ✅ Minimal prompts
- ✅ Good for experienced users

## Tips for Success

::callout{icon="i-heroicons-check-circle"}
**Recommended Approach**

1. Use interactive mode for your first integration
2. Review the generated configuration files
3. Test the setup with a small commit
4. Adjust configs if needed
5. Use quick mode for subsequent updates
::

::callout{icon="i-heroicons-exclamation-triangle" color="amber"}
**Important Notes**

- Run the script from your project root directory
- Ensure you have a clean git working directory
- The script is idempotent - safe to run multiple times
- Review changes before committing
::

## Environment Variables

You can also use environment variables for automation:

```bash
# Use local development mode
BOOSTER_LOCAL_DEV=1 BOOSTER_LOCAL_PATH=/path/to/booster ./integrate_booster.sh -I

# Use verbose output for debugging
./integrate_booster.sh -I -v
```

## Troubleshooting

### The wizard seems stuck
- Press `Ctrl+C` to cancel and restart
- Check you have all required dependencies installed
- Try running with `-v` flag for detailed logs

### Changes not applied
- Verify you confirmed at the summary step
- Check file permissions in your project
- Review verbose output for error messages

### Want to change configuration later
- Simply re-run the integration script with `-I`
- Edit configuration files directly:
  - `validate-branch-name.config.cjs` - Branch rules
  - `commitlint.config.ts` - Commit message rules
  - Tool configs: `ecs.php`, `rector.php`, etc.

## Next Steps

After completing the interactive setup:

1. [Run your first code quality checks](/tools/code_formatting)
2. [Learn about the Git hooks](/tools/git_hooks)
3. [Configure your IDE](/tools/ide_configuration)
4. [Set up GitHub Actions](/tools/github_actions)
